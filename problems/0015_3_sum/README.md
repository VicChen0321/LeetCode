# 0015 3Sum

**LeetCode Link:** [https://leetcode.com/problems/3sum/](https://leetcode.com/problems/3sum/)
**Difficulty:** Medium
**Tags:** Array, Two Pointers, Sorting

---

## 題目描述

給定一個整數陣列 `nums`，請找出所有 **不重複的** 三元組 `(a, b, c)`，使得：

```
a + b + c = 0
```

需注意：

* 不能回傳重複的三元組（元素相同但位置不同算重複）
* 三元組內的順序不重要，但結果列表不能有相同組合
* 陣列長度最多 10^5，不能用暴力 O(n³)

### 範例

* Input: `nums = [-1,0,1,2,-1,-4]`
  Output:

  ```
  [[-1,-1,2],[-1,0,1]]
  ```

  解釋：所有能加總為 0 且不重複的三元組。

* Input: `nums = [0,1,1]` → Output: `[]`

* Input: `nums = [0,0,0]` → Output: `[[0,0,0]]`

---

## 解法概念

### 方法：排序 + 雙指針 (Two Pointers)

核心想法：

1. **先排序** → 方便跳過重複值、使用雙指針
2. 用一個迴圈固定第一個數 `nums[i]`
3. 剩下的問題就變成 Two Sum：
   在 `i+1 ~ n-1` 的範圍內找兩數，使得：

   ```
   nums[left] + nums[right] = -nums[i]
   ```

4. 為避免重複組合：

   * `i` 不能用相同值重複計算
   * 找到答案後，`left` 與 `right` 要跳過重複值

---

### 步驟

1. **排序陣列**

   * 讓相同數字相鄰
   * 雙指針由小到大移動方便判斷

2. **固定第一個數 i**

   * 若 `i > 0` 且 `nums[i] == nums[i-1]` → 跳過，避免重複

3. **雙指針搜索：left = i+1, right = n-1**

   * 若總和 > 0 → 右指針左移
   * 若總和 < 0 → 左指針右移
   * 若等於 0 → 加入答案，並跳過相同數值

4. 重複直到迴圈結束

---

### 關鍵 Insight

* 排序 + 雙指針可以在 O(n²) 找三元組 → 遠優於 O(n³)
* 跳過重複是本題最容易錯的部分
* 由於數字可能重複，需在「外層」和「內層」都處理 dedup

---

## 時間與空間複雜度

* **時間複雜度**：O(n²)
  排序 O(n log n) + 迴圈與雙指針 O(n²)

* **空間複雜度**：O(1)（不算輸出）
